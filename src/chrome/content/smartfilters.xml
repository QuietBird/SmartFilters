<?xml version="1.0"?>

<bindings id="smartFiltersBindings" xmlns="http://www.mozilla.org/xbl" xmlns:xul="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul" xmlns:xbl="http://www.mozilla.org/xbl">
  <binding id="box" extends="chrome://global/content/bindings/richlistbox.xml#richlistbox">
    <implementation>
      <method name="createConsoleRow">
        <parameter name="aMessage"/>
        <parameter name="aType"/>
        <body><![CDATA[
          var item = document.createElement("richlistitem");

          item.setAttribute("class", "smartfilters-item");
          item.setAttribute("msg", aMessage);
          item.setAttribute("checked", "false");

          return item;
        ]]></body>
      </method>
    </implementation>
  </binding>

  <binding id="item" extends="chrome://global/content/bindings/richlistbox.xml#richlistitem">
    <implementation>
      <method name="_needsToApply" >
        <body><![CDATA[
          var checkbox = document.getAnonymousElementByAttribute(this,
                                "anonid", "smartfilters-checkbox");
          return checkbox.getAttribute("checked");
        ]]></body>
      </method>
    </implementation>
    <content>
      <xul:box flex="1">
          <xul:image class="smartfilters-row-icon" xbl:inherits="src,type"/>
          <xul:label xbl:inherits="xbl:text=msg"/>
          <xul:spacer flex="99999" />
          <xul:checkbox xbl:inherits="checked" anonid="smartfilters-checkbox"/>
      </xul:box>
    </content>
  </binding>
</bindings>
